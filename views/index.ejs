<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" />
    <!-- //cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js -->
  </head>
  <body>
    <!--h1><%= title %></h1>
    <p>Welcome to <%= title %></p-->
    <div class="container">
      <h1>Todo:</h1>
      <hr>
      <div class="page">
      </div>
    </div>

    <script type="text/template" id="todos">
        <table class="table striped">
          <thead>
            <tr>
              <th></th>
              <th>Todo:</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <!-- ugly hack but works :] -->
            <%- '<%' %> _.each(todos, function (todo) { %<%- '>' %>
            <tr>
              <td>
                <input type="checkbox" value="<%- '<%=' %> todo.get('id') %<%- '>' %>"
                  <%- '<%=' %> todo.get('checked') ? 'checked="checked"' : '' %<%- '>' %>>
              </td>
              <td>
                <%- '<%=' %> todo.get('todo') %<%- '>' %>
              </td>
              <td>
                <a href="#todos/<%- '<%=' %> todo.get('id') %<%- '>' %>" class="btn btn-primary">Edit</a>
                <a href="#" class="btn btn-warning delete" data-id="<%- '<%=' %> todo.get('id') %<%- '>' %>">Delete</a>
              </td>
            </tr>
            <%- '<%' %> }); %<%- '>' %>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="3">
                <a href="#todos/new" class="btn btn-primary">New Todo</a>
              </td>
            </tr>
          </tfoot>
        </table>
    </script>

    <script type="text/template" id="todos-new">
      <form class="form-todos-new">
        <legend>New Todo Item:</legend>
        <label>Todo:</label>
        <input type="text" name="todo">
        <hr>
        <button type="submit" class="btn btn-primary">Save</button>
        <a href="#" class="btn btn-warning">Cancel</button>
      </form>
    </script>

    <script type="text/template" id="todos-edit">
      <form class="form-todos-edit">
        <input type="hidden" name="id" value="<%- '<%=' %> todo.get('id') %<%- '>' %>">
        <legend>New Todo Item:</legend>
        <label>Todo:</label>
        <input type="text" name="todo" value="<%- '<%=' %> todo.get('todo') %<%- '>' %>">
        <hr>
        <button type="submit" class="btn btn-primary">Update</button>
        <a href="#" class="btn btn-warning">Cancel</button>
      </form>
    </script>

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.0/backbone-min.js"></script>
    <script type="text/javascript" src="/javascripts/app.js"></script>
  </body>
</html>